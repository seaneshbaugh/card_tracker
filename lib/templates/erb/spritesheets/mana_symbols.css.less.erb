.mana-symbol {
  background-clip: padding-box;
  background-position: 0 0;
  background-repeat: no-repeat;
  display: inline-block;
  line-height: 20px;
  vertical-align: middle;

<% @results.reject { |size, _| size.present? }.each do |_, values| %>
  background-image: url(/assets/symbols/<%= values['spritesheet'] %>);

<% values['symbols'].each do |symbol, positions| %>
  &.symbol-<%= symbol %> {
    background-position: <%= positions[:x1] > 0 ? "-#{positions[:x1]}px" : '0' %> <%= positions[:y1] > 0 ? "-#{positions[:y1]}px" : '0' %>;
    height: <%= positions[:y2] - positions[:y1] %>px;
    width: <%= positions[:x2] - positions[:x1] %>px;
  }
<% end %>
<% end %>

<% @results.select { |size, _| size.present? }.each do |size, values| %>
  &.<%= size %> {
    background-image: url(/assets/symbols/<%= values['spritesheet'] %>);

<% values['symbols'].each do |symbol, positions| %>
    &.symbol-<%= symbol %> {
      background-position: <%= positions[:x1] > 0 ? "-#{positions[:x1]}px" : '0' %> <%= positions[:y1] > 0 ? "-#{positions[:y1]}px" : '0' %>;
      height: <%= positions[:y2] - positions[:y1] %>px;
      width: <%= positions[:x2] - positions[:x1] %>px;
    }
<% end %>
  }
<% end %>
}
